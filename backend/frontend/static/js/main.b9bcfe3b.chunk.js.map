{"version":3,"sources":["features/responseDisplay/jsonSlice.ts","constants.ts","websocket/websocketProvider.tsx","websocket/websocketMessageHandler.ts","../node_modules/react-universal-component/dist/requireById sync /^.*$","app/routing lazy /^/.//pages.*$/ groupOptions: {} namespace object","app/routing weak /^/.//pages.*$","app/routing/RoutesMap.ts","app/routing/Navbar.tsx","app/routing/Pager.tsx","app/App.tsx","app/store.ts","index.tsx"],"names":["jsonHolder","createSlice","name","initialState","value","config","reducers","jsonResponse","state","payload","log","configResponse","actions","closeBackend","dispatch","a","doThis","getClose","url","PORT","axios","get","data","getApi","response","request","WebSocketContext","createContext","WebSocketProvider","webSocket","ws","children","useDispatch","WebSocket","onmessage","ev","rawPayload","JSON","parse","undefined","type","debug","body","receivedMessageHandler","onopen","onclose","event","onerror","error","sendMessage","message","websocket","send","stringify","sendMessageHandler","Provider","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","webpackAsyncContext","Promise","then","ids","all","slice","m","RoutesMap","HOME","RESPONSE","CONFIG","SYSTEM","Navbar","to","className","UniversalComponent","universal","props","page","proms","chunkName","Pager","useSelector","location","routesMap","App","connectRoutes","routerMiddleware","middleware","routerEnhancer","enhancer","routerReducer","reducer","rootReducer","combineReducers","jsonHolderReducer","store","configureStore","enhancers","defaultEnhancers","getDefaultMiddleware","immutableCheck","warnAfter","serializableCheck","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b9bcfe3b.chunk.js","sourcesContent":["import {Action, createSlice, PayloadAction, ThunkDispatch} from \"@reduxjs/toolkit\";\nimport {AppThunk, RootState} from \"../../app/store\";\nimport axios from 'axios';\nimport * as log from 'loglevel';\nimport {PORT} from \"../../constants\";\n\ninterface JsonHolder {\n    value: any\n    config: any\n}\n\nconst initialState: JsonHolder = {\n    value: {},\n    config: {},\n};\n\nconst jsonHolder = createSlice({\n    name: 'jsonHolder',\n    initialState,\n    reducers: {\n        jsonResponse(state, {payload}: PayloadAction<any>) {\n            log.debug(payload);\n            state.value = payload;\n        },\n        configResponse(state, {payload}: PayloadAction<any>) {\n            log.debug(payload);\n            state.config = payload;\n        },\n    }\n});\n\nexport const {\n    jsonResponse,\n    configResponse,\n} = jsonHolder.actions;\n\nexport default jsonHolder.reducer\n\nexport const pingBackend = ():\n    AppThunk => async dispatch => {\n    await doThis(getPing, dispatch);\n};\n\ninterface PingResponse {\n    payload: any\n}\n\nasync function getPing() {\n    const url = \"http://127.0.0.1:\" + PORT + \"/api/data\";\n    const {data} = await axios.get<PingResponse>(url);\n    return data\n}\n\nexport const closeBackend = ():\n    AppThunk => async dispatch => {\n    await doThis(getClose, dispatch);\n};\n\nasync function getClose() {\n    const url = \"http://127.0.0.1:\" + PORT + \"/api/close\";\n    const {data} = await axios.get<PingResponse>(url);\n    return data\n}\n\nasync function doThis(getApi: () => Promise<any>, dispatch: ThunkDispatch<RootState, unknown, Action<string>>) {\n    try {\n        const data = await getApi();\n        dispatch(jsonResponse(data));\n    } catch (err) {\n        if (err.response) {\n            dispatch(jsonResponse(err.response));\n        } else if (err.request) {\n            dispatch(jsonResponse(err.request));\n        } else {\n            dispatch(jsonResponse(err));\n        }\n    }\n}\n","export const PORT = 4999;\n","import React, {createContext, PropsWithChildren, ReactNode} from 'react'\nimport {useDispatch} from 'react-redux';\nimport * as log from 'loglevel';\nimport {receivedMessageHandler, sendMessageHandler} from \"./websocketMessageHandler\";\nimport {PORT} from \"../constants\";\n\nconst WebSocketContext = createContext<Websocket | null>(null);\n\nexport {WebSocketContext}\n\ninterface Websocket {\n    webSocket: WebSocket,\n    sendMessage: (type: string, message: any) => void\n}\n\nconst WebSocketProvider = ({children}: PropsWithChildren<ReactNode>) => {\n    let webSocket: WebSocket;\n    let ws: Websocket;\n\n    const dispatch = useDispatch();\n\n    const sendMessage = (type: string, message: any) => {\n        sendMessageHandler(webSocket, type, message);\n    };\n\n    webSocket = new WebSocket(\"ws://127.0.0.1:\" + PORT + \"/api/ws\");\n    webSocket.onmessage = ev => {\n        receivedMessageHandler(ev.data, dispatch);\n    };\n\n    webSocket.onopen = () => {\n        log.warn(\"Websocket is now open\");\n    };\n\n    webSocket.onclose = event => {\n        log.warn(\"Socket Closed Connection: \", event);\n    };\n\n    webSocket.onerror = error => {\n        log.error(\"Socket Error: \", error);\n    };\n\n    ws = {\n        webSocket: webSocket,\n        sendMessage\n    };\n\n\n    return (\n        <WebSocketContext.Provider value={ws}>\n            {children}\n        </WebSocketContext.Provider>\n    )\n};\n\nexport default WebSocketProvider;\n","import {Action, ThunkDispatch} from \"@reduxjs/toolkit\";\nimport {jsonResponse, configResponse} from \"../features/responseDisplay/jsonSlice\";\nimport log from \"loglevel\";\nimport {RootState} from \"../app/store\";\n\ninterface Message {\n    body: any,\n    type: string,\n}\n\nexport const sendMessageHandler = (websocket: WebSocket, type: string, message: any) => {\n    let data: Message = {\n        type: type,\n        body: message\n    };\n    websocket.send(JSON.stringify(data))\n};\n\nexport const receivedMessageHandler = (data: any, dispatch: ThunkDispatch<RootState, unknown, Action<string>>) => {\n    const rawPayload = JSON.parse(data);\n    const payload = rawPayload as Message;\n    if (payload !== undefined) {\n        switch (payload.type) {\n            case \"display\": {\n                log.debug(payload.type + \" : \" + payload.body);\n                // const value = payload.body as DisplayResponse;\n                // dispatch(displayResponse(value));\n                dispatch(jsonResponse(payload));\n                break;\n            }\n            case \"config\": {\n                dispatch(configResponse(payload.body));\n                break;\n            }\n            case \"ping_pong\":\n            case \"system\":\n            default: {\n                log.debug(payload.type + \" : \" + payload.body);\n                dispatch(jsonResponse(payload));\n                break;\n            }\n        }\n    } else {\n        dispatch(jsonResponse(rawPayload));\n    }\n};\n","var map = {\n\t\".\": 13,\n\t\"./\": 13,\n\t\"./index\": 13,\n\t\"./index.js\": 13\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 70;","var map = {\n\t\"./pages\": [\n\t\t9,\n\t\t0\n\t],\n\t\"./pages/\": [\n\t\t9,\n\t\t0\n\t],\n\t\"./pages/config\": [\n\t\t22,\n\t\t1,\n\t\t2\n\t],\n\t\"./pages/config.tsx\": [\n\t\t22,\n\t\t1,\n\t\t2\n\t],\n\t\"./pages/home\": [\n\t\t21,\n\t\t3\n\t],\n\t\"./pages/home.tsx\": [\n\t\t21,\n\t\t3\n\t],\n\t\"./pages/index\": [\n\t\t9,\n\t\t0\n\t],\n\t\"./pages/index.tsx\": [\n\t\t9,\n\t\t0\n\t],\n\t\"./pages/response\": [\n\t\t23,\n\t\t1,\n\t\t4\n\t],\n\t\"./pages/response.tsx\": [\n\t\t23,\n\t\t1,\n\t\t4\n\t],\n\t\"./pages/system\": [\n\t\t24,\n\t\t5\n\t],\n\t\"./pages/system.tsx\": [\n\t\t24,\n\t\t5\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 74;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./pages\": 9,\n\t\"./pages/\": 9,\n\t\"./pages/config\": 22,\n\t\"./pages/config.tsx\": 22,\n\t\"./pages/home\": 21,\n\t\"./pages/home.tsx\": 21,\n\t\"./pages/index\": 9,\n\t\"./pages/index.tsx\": 9,\n\t\"./pages/response\": 23,\n\t\"./pages/response.tsx\": 23,\n\t\"./pages/system\": 24,\n\t\"./pages/system.tsx\": 24\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\tif(!__webpack_require__.m[id]) {\n\t\tvar e = new Error(\"Module '\" + req + \"' ('\" + id + \"') is not available (weak dependency)\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nwebpackContext.id = 75;\nmodule.exports = webpackContext;","\nconst RoutesMap = {\n    HOME: '/',\n    RESPONSE: '/response',\n    CONFIG: '/config',\n    SYSTEM: '/system',\n};\n\nexport default RoutesMap\n","import React from \"react\";\nimport {NavLink} from 'redux-first-router-link'\nimport RoutesMap from \"./RoutesMap\";\n\nconst Navbar = () => {\n    return (\n        <nav>\n            <ul>\n                <li><NavLink to={RoutesMap.HOME}>Home</NavLink></li>\n                <li><NavLink to={RoutesMap.CONFIG}>Config</NavLink></li>\n                <li><NavLink to={RoutesMap.RESPONSE}>Response</NavLink></li>\n                <li className=\"float-right\"><NavLink to={RoutesMap.SYSTEM}>System</NavLink></li>\n            </ul>\n        </nav>\n    )\n};\n\nexport default Navbar\n","import React from \"react\";\nimport universal from 'react-universal-component'\nimport {useSelector} from \"react-redux\";\nimport {RootState} from \"../store\";\n\nconst load = (props: any) => Promise.all([\n    import(`./pages${props.page}`)\n]).then(proms => proms[0]);\n\nconst UniversalComponent = universal(load, {\n    chunkName: props => props.page,\n    resolve: props => require.resolveWeak(`./pages${props.page}`)\n});\n\nconst Pager = () => {\n    const {type, routesMap} = useSelector(\n        (state: RootState) => state.location\n    );\n    return (<UniversalComponent page={routesMap[type]}/>)\n};\n\nexport default Pager\n","import React from 'react';\nimport Navbar from \"./routing/Navbar\";\nimport Pager from \"./routing/Pager\";\n\nconst App: React.FC = () => {\n    return (\n        <div className=\"zeroMargin\">\n            <Navbar/>\n            <div className=\"bodyCentering\">\n                <Pager/>\n            </div>\n        </div>\n    )\n};\n\nexport default App\n","import {\n    Action,\n    combineReducers,\n    configureStore,\n    getDefaultMiddleware,\n    ThunkAction\n} from \"@reduxjs/toolkit\";\n\nimport { connectRoutes } from 'redux-first-router'\nimport RoutesMap from \"./routing/RoutesMap\";\nimport jsonHolderReducer from \"../features/responseDisplay/jsonSlice\";\n\nconst {\n    middleware: routerMiddleware,\n    enhancer: routerEnhancer,\n    reducer: routerReducer,\n} = connectRoutes(RoutesMap);\n\nconst rootReducer = combineReducers({\n    jsonHolder: jsonHolderReducer,\n    location: routerReducer,\n});\n\n\nconst store = configureStore({\n    reducer: rootReducer,\n    enhancers: defaultEnhancers => [routerEnhancer, ...defaultEnhancers],\n    middleware: [...getDefaultMiddleware({\n        immutableCheck : {\n            warnAfter: 1000\n        },\n        serializableCheck : {\n            warnAfter: 1000\n        }\n    }), routerMiddleware]\n});\n\nexport type AppDispatch =  typeof store.dispatch\n\nexport type RootState = ReturnType<typeof rootReducer>\nexport type AppThunk = ThunkAction<void, RootState, unknown, Action<string>>\n\nexport default store\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './app/App'\nimport './index.css'\nimport store from \"./app/store\";\nimport {Provider} from 'react-redux'\nimport WebSocketProvider from \"./websocket/websocketProvider\";\n\nconst render = () => {\n    ReactDOM.render(\n        <Provider store={store}>\n            <WebSocketProvider>\n                <App/>\n            </WebSocketProvider>\n        </Provider>,\n        document.getElementById('root')\n    )\n};\n\nrender();\n"],"sourceRoot":""}